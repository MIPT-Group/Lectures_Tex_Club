% ----------- Math and theorems -----------
\RequirePackage{amsthm,amssymb,xparse,newtxmath}

\theoremstyle{plain}
\newtheorem{theorem}[subsection]{Th.}

\newtheorem{proposition}[subsection]{Prop.}
\newtheorem{lemma}{Lemma}[section]
\newtheorem{sug}{Sug.}[section]

\theoremstyle{definition} % "Определение"
\newtheorem{definition}{Def.}
\newtheorem{corollary}{Corol.}[subsection]
\newtheorem{problem}{Problem}[section]


\theoremstyle{remark} % "Примечание"
\newtheorem*{solution}{Solution}
\newtheorem*{example}{Example}
\newtheorem*{remark}{Remark}

% smart theorems
	
\newenvironment{Th}[1]
	{\begin{theorem}
		\ifthenelse{\equal{#1}{}}
				   {}
				   {	\addcontentsline{toc}
									{subsection}
									{\protect\numberline{\thesubsection}Theorem (#1)}
					\textnormal{[\textbf{#1}]\\}}}
	{\end{theorem}}

\newenvironment{deff}[1]
	{\begin{definition} 
		\ifthenelse{\equal{#1}{}}
				   {}
				   {[\textit{#1}]\\}}
	{\end{definition}}

\newenvironment{Def}[1]
	{\begin{definition}
		\addcontentsline{toc}
        				{subsection}
        				{\protect\numberline{\thesubsection}Def. (#1)}
        \ifthenelse{\equal{#1}{}}
        		   {}
        		   {[\textit{#1}]\\}}
	{\end{definition}}


% ----------- Math short-cats
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\Cx}{\ensuremath{\mathbb{C}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\E}{\ensuremath{\mathbb{E}}}
