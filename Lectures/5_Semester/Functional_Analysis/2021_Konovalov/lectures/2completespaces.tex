\section{Полные метрические пространства}

\begin{definition}
    Пусть $X$ "--- метрическое пространство. Последовательность $\{x_n\} \subset X$ называется \textit{фундаментальной}, если выполнено следующее условие:
    \[\forall \epsilon > 0: \exists N \in \N: \forall n, m \ge N: \rho(x_n, x_m) < \epsilon\]
\end{definition}

\begin{note}
    Очевидно, любая сходящаяся последовательность в метрическом пространстве является фундаментальной, однако обратное верно не в любом метрическом пространстве.
\end{note}

\begin{definition}
    Метрическое пространство $X$ называется \textit{полным}, если любая фундаментальная последовательность в нем сходится.
\end{definition}

\begin{note}
    Типичными примерами неполных метрических пространств являются, например, пространства $\Q \subset \R$ и $C_p[a, b] \subset L_p[a, b]$ "--- множество непрерывных функций $[a, b] \to \R$ с интегральной метрикой из $L_p[a, b]$.
\end{note}

\begin{theorem}\label{thm2.1}
    Пусть $X$ "--- полное метрическое пространство, $\big\{\overline B(x_n, r_n)\big\}$ "--- последовательность вложенных замкнутых шаров такая, что $r_n \to 0$. Тогда $\bigcap_{n = 1}^\infty \overline B(x_n, r_n) \ne \emptyset$. Более того, $\bigcap_{n = 1}^\infty \overline B(x_n, r_n) = \{x^*\}$ для некоторой точки $x^* \in X$.
\end{theorem}

\begin{proof}
    В силу вложенности шаров и условия $r_n \to 0$, последовательность $\{x_n\}$ фундаментальна. Тогда, поскольку пространство $X$ полно, для некоторого $x^* \in X$ выполнено $x_n \to x^*$. Но каждый шар $\overline B(x_N, r_N)$ содержит все точки из последовательности $\{x_n\}$, начиная с номера $N$, тогда, в силу его замкнутости, он также содержит точку $x^*$. Значит, $\bigcap_{n = 1}^\infty \overline B(x_n, r_n) \supset \{x^*\}$. Наконец, в силу условия $r_n \to 0$, других точек в пересечении быть не может.
\end{proof}

\begin{note}
    Условие $r_n \to 0$ в теореме выше существенно. Можно показать, что множество $\N$ с метрикой $\rho(m, n) := (1 + \frac 1{m + n})I(m \ne n)$ является полным метрическим пространством, однако последовательность вложенных шаров $\big\{\overline B(n, 1 + \frac 1{2n})\big\}$ имеет пустое пересечение.
\end{note}

\begin{theorem}[Бэра]\label{thm2.2}
    Пусть $X$ "--- полное метрическое пространство. Тогда $X$ нельзя представить в виде $X = \bigcup_{n = 1}^\infty M_n$, где множества $M_n \subset X$ "--- не плотные ни в одном шаре в $X$.
\end{theorem}

\begin{proof}
    Предположим противное, то есть $X$ имеет такой вид, как в условии. Положим $r_0 := 1$ и выберем произвольный шар $\overline B(x_0, r_0) \subset X$. Поскольку $M_1$ не плотно в $\overline B(x_0, r_0)$, то множество $(X \bs \overline {M_1}) \cap B(x_0, r_0)$ непусто, поэтому можно выбрать шар $\overline{B}(x_1, r_1) \subset \overline{B}(x_0, r_0)$ такой, что $\overline{B}(x_1, r_1) \cap \overline {M_1} = \emptyset$. Можно считать, что $r_1 \le \frac 12$. Повторяя процесс для $\overline B(x_1, r_1)$ и $M_2$, получим шар $\overline B(x_2, r_2)$ с $r_2 \le \frac 14$, и так далее.

    Рассмотрим полученную последовательность вложенных шаров $\big\{\overline B(x_n, r_n)\big\}$. Поскольку $r_n \le \frac1{2^n} \to 0$, то, по теореме $\ref{thm2.1}$, для некоторой точки $x^* \in X$ выполнено равенство $\bigcap_{n = 0}^\infty \overline B(x_n, r_n) = \{x^*\}$. По предположению, $X = \bigcup_{n = 1}^\infty M_n$, поэтому $x^* \in M_n$ для некоторого $k \in \N$, но $\overline{B}(x_k, r_k) \cap \overline{M_k} = \emptyset$ по построению --- противоречие.
\end{proof}

\begin{theorem}[Банаха, принцип сжимающих отображений]\label{thm2.3}
    Пусть $X$ "--- полное метрическое пространство, $f : X \to X$ "--- отображение такое, что выполнено следующее условие:
    \[\exists \alpha \in (0, 1): \forall x, y \in X: \rho(f(x), f(y)) < \alpha \rho(x, y)\]

    Тогда существует единственная точка $x^* \in X$ такая, что $f(x^*) = x^*$.
\end{theorem}

\begin{proof}
    Зафиксируем произвольную точку $x_0 \in X$ и рассмотрим последовательность $\{x_n\} := \{f^n(x)\}$. Для любых $n, p \in \N$ выполнено следующее:
    \begin{multline*}
        \rho(x_n, x_{n + p}) \le
        \alpha^n \rho(x_0, x_p) \le
        \alpha^n \left(\rho(x_0, x_1) + \rho(x_1, x_2) + \dotsb + \rho(x_{p - 1}, x_p)\right) \le
        \\
        \le \alpha^n \left(1 + \alpha + \dotsb + \alpha^{p-1}\right)\rho(x_0, f(x_0)) \le \frac{\alpha^n}{1 - \alpha} \rho(x_0, f(x_0))
    \end{multline*}

    Значит, последовательность $\{x_n\}$ фундаментальна, тогда, поскольку пространство $X$ полно, существует точка $x^* \in X$ такая, что $x_n \to_X x^*$. Из условия также следует, что отображение $f$ непрерывно, тогда, переходя к пределу в равенстве $f(x_n) = x_{n + 1}$, получим, что $f(x^*) = x^*$.
    
    Остается проверить, что точка $x^*$ единственна. Действительно, если для некоторой точки $x^{**} \in X$ выполнено равенство $f(x^{**}) = x^{**}$, то $\rho(x^{*}, x^{**}) = \rho(f(x^{*}), f(x^{**})) < \alpha\rho(x^{*}, x^{**})$. Тогда, поскольку $\alpha < 1$, имеем $\rho(x^{*}, x^{**}) = 0$, то есть $x^{*} = x^{**}$.
\end{proof}

\begin{note}
    Условие $\alpha < 1$ в теореме выше существенно, даже для пространства $\R$ легко построить пример функции, удовлетворяющей условию с $\alpha = 1$, но не имеющей неподвижных точек. Однако справедливость утверждения сохранится, если допустив равенство $\alpha = 1$ также потребовать от пространства $X$ свойство \textit{компактности}, которое будет определено позднее.
\end{note}

\begin{theorem}[Хаусдорфа, о пополнении, \textit{без доказательства}]
    Пусть $X$ "--- метрическое пространство. Тогда существует такое полное метрическое пространство $Y$ и сохраняющая метрику биекция $\pi : X \to Y$ такая, что $\overline{\pi(X)} = Y$.
\end{theorem}