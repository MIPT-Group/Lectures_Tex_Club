\section{Метрические и топологические пространства}

\begin{definition}
	\textit{Метрическим пространством} называется пара из множества $X$ и функции $\rho : X^2 \to \R$, обладающей следующими свойствами:
	\begin{enumerate}
		\item $\forall x, y \in X: \rho(x, y) \ge 0$, причем $\rho(x, y) = 0 \lra x = y$
		\item $\forall x, y \in X: \rho(x, y) = \rho(y, x)$
		\item $\forall x, y, z \in X: \rho(x, z) = \rho(x, y) + \rho(y, z)$ (\textit{неравенство треугольника})
	\end{enumerate}

	Функция $\rho$ называется \textit{метрикой} на множестве $X$.
\end{definition}

\begin{note}
	Для получения многих типичных примеров метрических пространств оказывается необходимо \textit{неравенство Минковского}. Сформулируем его в наиболее общем виде, но доказывать не будем, поскольку это обычно делается в рамках курса математического анализа. Пусть $E$ "--- измеримое множество, на котором задана мера $\mu$, и пусть $f, g: E \to \R$ "--- измеримые функции. Тогда выполнено следующее:
	\[\left(\int_a^b|f(x) + g(x)|^pd\mu\right)^{\frac 1p} \le \left(\int_a^b|f(x)|^pd\mu\right)^{\frac 1p} + \left(\int_a^b|g(x)|^pd\mu\right)^{\frac 1p}\]
\end{note}

\begin{example}
	Рассмотрим несколько примеров метрических пространств:
	\begin{enumerate}
		\item $\R^n_p$ при $p \ge 1$ "--- множество $\R^n$ с метрикой, заданной для произвольных $x, y \in \R^n$ сле\-дующим образом:
		\[\rho(x, y) := \left(\sum_{k = 1}^n|x_k - y_k|^p\right)^{\frac 1p}\]
  
		\item $\R^n_\infty$ "--- множество $\R^n$ с метрикой, заданной для произвольных $x, y \in \R^n$ следующим образом:
		\[\rho(x, y) := \max_{1 \le k \le n}|x_k - y_k|\]
  
		\item $l_p$ при $p \ge 1$ "--- множество последовательностей $\{x_n\} \subset \R$ таких, что $\sum_{n = 1}^\infty |x_n|^p < +\infty$, с метрикой, заданной для произвольных $x, y \in l_p$ следующим образом:
		\[\rho(x, y) := \left(\sum_{n = 1}^\infty|x_n - y_n|^p\right)^{\frac 1p}\]
  
		\item $l_\infty$ "--- множество последовательностей $\{x_n\} \subset \R$ таких, что $\sup_{n \in \N} |x_n| < +\infty$, с метрикой, заданной для произвольных $x, y \in l_\infty$ следующим образом:
		\[\rho(x, y) := \sup_{n \in \N}|x_n - y_n|\]

		\item $c \subset l_\infty$ "--- множество сходящихся последовательностей $\{x_n\} \subset \R$ с метрикой из $l_\infty$

		\item $c_0 \subset l_\infty$ "--- множество сходящихся к нулю последовательностей $\{x_n\} \subset \R$ с метрикой из $l_\infty$
  
		\item $L_p[a, b]$ "--- множество измеримых функций $f : [a, b] \to \R$ таких, что $\int_a^b |f|^pdx < + \infty$, с метрикой, заданной для произвольных $f, g \in L_p[a, b]$ следующим образом:
		\[\rho(f, g) := \left(\int_a^b |f(x) - g(x)|^pdx\right)^{\frac 1p}\]

		\item $C[a, b]$ "--- множество непрерывных функций $f : [a, b] \to \R$ с метрикой, заданной для произвольных $f, g \in C[a, b]$ следующим образом:
		\[\rho(f, g) := \sup_{x \in [a, b]}|f(x) - g(x)|\]
	\end{enumerate}
\end{example}

\begin{definition}
	Топологическим пространством называется пара из множества $X$ и системы $\tau \subset 2^X$, обладающей следующими свойствами:
	\begin{enumerate}
		\item $\emptyset, X \in \tau$
		\item $\forall G_1, G_2 \in \tau: G_1 \cap G_2 \in \tau$
		\item $\forall \{G_\alpha\}_{\alpha \in \mf A} \subset \tau: \bigcup_{\alpha \in \mf A}G_\alpha\in \tau$
	\end{enumerate}
	
	Система $\tau$ называется \textit{топологией} на множестве $X$, а элементы системы $\tau$ --- \textit{открытыми множествами}.
\end{definition}

\begin{note}
	Далее обозначения для метрики в метрическом пространстве и топологии в топологическом пространстве будут опускаться.
\end{note}

\begin{definition}
	Пусть $X$ "--- метрическое пространство, $Y \subset X$. Подространством пространства $X$ называется метрическое пространство $Y$ с метрикой, являющейся сужением метрики на $X$.
\end{definition}

\begin{definition}
	Пусть $X$ "--- метрическое пространство. Множество $Y \subset X$ называется \textit{ограниченным}, если выполнено условие $\sup_{x, y \in Y} \rho(x, y) < +\infty$.
\end{definition}

\begin{note}
	Далее в этом разделе мы стремимся показать, что каждое метрическое пространство является топологическими пространством с топологией определенного вида, заданной метрикой пространства.
\end{note}

\begin{definition}
	Пусть $X$ "--- метрическое пространство, $x \in X$, $r > 0$.
	\begin{itemize}
		\item \textit{Открытым шаром} называется множество $B(x, r) := \{y \in X: \rho(y, x) < \epsilon\}$
		
		\item \textit{Замкнутым шаром} называется множество $\overline B(x, r) := \{y \in X: \rho(y, x) \le \epsilon\}$
	\end{itemize}
\end{definition}

\begin{definition}
	Пусть $X$ "--- метрическое пространство, $M \subset X$. Точка $x \in X$ назы\-вается \textit{внутренней точкой} множества $M$, если существует $r > 0$ такое, что $B(x, r) \subset M$. \textit{Внутренностью} множества $M$ называется множество $\Int{M}$ всех его внутренних точек. Множество $M$ называется \textit{открытым}, если $\Int{M} = M$.
\end{definition}

\begin{definition}
	Пусть $(X, \rho)$ "--- метрическое пространство, $M \subset X$. Точка $x \in X$ назы\-вается \textit{точкой прикосновения} множества $M$, если для любого $r > 0$ выполнено условие $B(x, r) \cap M \ne \emptyset$. \textit{Замыканием} множества $M$ называется множество $\overline M$ всех его точек прикосновения. Множество $M$ называется \textit{замкнутым}, если $\overline M = M$.
\end{definition}

\begin{theorem}\label{thm1.1}
	Пусть $X$ "--- метрическое пространство, $M \subset X$. Тогда множество $M$ открыто $\lra$ множество $X \bs M$ замкнуто.
\end{theorem}

\begin{proof}
	Достаточно заметить, что $x \in \overline{X \bs M} \lra$ для любого $r > 0$ выполнено $B(x, r) \cap (X \bs M) \ne \emptyset$ $\lra x \not\in \Int{M}$. Значит, $\Int M = M\lra \overline{X \bs M} = X \bs M$.
\end{proof}

\begin{note}
	Отметим отдельно, что для любого множества $M \subset X$ выполнены равенства $\overline{X \bs M} = X \bs \Int M$ и $\Int{(X \bs M)} = X \bs \overline M$.
\end{note}

\begin{theorem}\label{thm1.2}
	Пусть $X$ "--- метрическое пространство. Тогда:
	\begin{enumerate}
		\item Для любой системы открытых множеств $\{G_\alpha\}_{\alpha \in \mf A} \subset 2^X$ множество $\bigcup_{\alpha \in \mf A} G_{\alpha}$ тоже является открытым

		\item Для любых открытых множеств $G_1, G_2 \subset X$ множество $G_1 \cap G_2$ тоже является открытым
	\end{enumerate}
\end{theorem}

\begin{proof}~
	\begin{enumerate}
		\item Пусть $x \in \bigcup_{\alpha \in \mf A} G_\alpha$, тогда существует $\alpha_0 \in \mf A$ такое, что $x \in G_{\alpha_0}$. Но множество $G_{\alpha_0}$ является открытым, поэтому существует $r > 0$ такое, что $B(x, r) \subset G_{\alpha_0} \subset \bigcup_{\alpha \in \mf A} G_{\alpha}$. Значит, множество $\bigcup_{\alpha \in \mf A} G_{\alpha}$ является открытым.

		\item Пусть $x \in G_1 \cap G_2$, тогда существуют $r_1, r_2 > 0$ такие, что выполнено $B(x, r_1) \subset G_1$ и $B(x, r_2) \subset G_2$, откуда $B(x, \min(r_1, r_2)) \subset G_1 \cap G_2$. Значит, множество $G_1 \cap G_2$ является открытым.\qedhere
	\end{enumerate}
\end{proof}

\begin{note}
	В силу теоремы \ref{thm1.1}, теорему выше можно сфорулировать и для замкнутых множеств:
	\begin{enumerate}
		\item Для любой системы замкнутых множеств $\{F_\alpha\}_{\alpha \in \mf A} \subset 2^X$ множество $\bigcap_{\alpha \in \mf A} F_{\alpha}$ тоже является замкнутым

		\item Для любых замкнутых множеств $F_1, F_2 \subset X$ множество $G_1 \cup G_2$ тоже является открытым
	\end{enumerate}

	Обе этих формулировки эквивалентны тому, что метрическое пространство $X$ также является топологическим с топологией, заданной открытыми множествами в $X$ как в метрическом пространстве.
\end{note}

\begin{note}
	Не всякое топологическое пространство является \textit{метризуемым}, то есть таким, что топология в нем порождается некоторой метрикой. Главным примером неметризуемого топологического пространства является пространство $D$ основных функций.
\end{note}

\begin{theorem}\label{thm1.3}
	Пусть $X$ "--- метрическое пространство. Тогда:
	\begin{enumerate}
		\item Для любого $x \in X$ и $r > 0$ множество $B(x, r)$ "--- открытое
		\item Для любого $x \in X$ и $r > 0$ множество $\overline B(x, r)$ "--- замкнутое
		\item Для любого множества $M \subset X$ множество $\Int M$ "--- открытое, причем наибольшее по включению открытое множество, содержащееся в $M$
		\item Для любого множества $M \subset X$ множество $\overline M$ "--- замкнутое, причем наименьшее по включению замкнутое множество, содержащее $M$
	\end{enumerate}
\end{theorem}

\pagebreak

\begin{proof}~
	\begin{enumerate}
		\item Пусть $y \in B(x, r)$, тогда, по неравенству треугольника, $B\big(y, r - \rho(x, y)\big) \subset B(x, r)$, то есть $y \in \Int B(x, r)$.
		
		\item Пусть $y \in \overline{\overline B(x, r)}$, тогда для любого $\epsilon > 0$ выполнено $B(y, \epsilon) \cap \overline B(x, r) \ne \emptyset$, откуда, по неравенству треугольника, $\rho(x, y) < r + \epsilon$. В силу произвольности числа $\epsilon$, получаем, что $\rho(x, y) \le r$, то есть $y \in \overline B(x, r)$.
		
		\item Для любого открытого множества $G \subset M$ выполнено $G = \Int G \subset \Int M$, поэтому, в частности, множество $\Int M$ открыто как объединение всех содержащихся в $M$ открытых множеств.
  
		\item Для любого замкнутого множества $F \supset M$ выполнено $F = \overline F \supset \overline M$, поэтому, в частности, множество $\overline M$ замкнуто как пересечение всех содержащих $M$ замкнутых множеств.\qedhere
	\end{enumerate}
\end{proof}

\begin{definition}
	Пусть $X$ "--- метрическое пространство. Множество $A \subset X$ называется:
	\begin{itemize}
		\item \textit{Плотным} в множестве $B \subset X$, если $B \subset \overline {A}$
 
		\item \textit{Всюду плотным}, если $X = \overline {A}$
	\end{itemize}
\end{definition}

\begin{definition}
	Метрическое пространство $X$ называется \textit{сепарабельным}, если в $X$ существует не более чем счетное всюду плотное множество.
\end{definition}

\begin{note}
	Определения выше легко перенести и на случай топологических пространств, но в рамках данного курса заниматься мы этим не будем.
\end{note}

\begin{definition}
	Пусть $X$ "--- метрическое пространство. Последовательность $\{x_n\} \subset X$ \textit{сходится} к точке $x \in X$, если $\rho(x_n, x) \to 0$ при $n \to \infty$. Обозначение "--- $x_n \to_X x$.
\end{definition}

\begin{note}
	Замкнутые множества в метрическом пространстве $X$ можно определить в терминах сходимости: множество $F \subset X$ является замкнутым $\lra$ для любой последовательности $\{x_n\} \subset F$ такой, что $x_n \to_X x \in X$, выполнено $x \in F$.
\end{note}

\begin{note}
	В произвольном топологическом пространстве тоже можно определить сходимость, переписав определение выше в терминах открытых окрестностей, однако в общем топологическом случае сходимость уже не задает однозначно свойств пространства.
\end{note}

\begin{definition}
	Пусть $X, Y$ "--- метрические пространства, $f : X \to Y$. Отображение $f$ называется \textit{непрерывным в точке} $x \in X$, если выполнено одно из следующих условий:
	\begin{enumerate}
		\item Для любого $\epsilon > 0$ существует $\delta > 0$ такое, что $f\big(B(x, \delta)\big) \subset B\big(f(x), \epsilon\big)$
		
		\item Для любой $\{x_n\} \subset X$ такой, что $x_n \to_X x$, выполнено $f(x_n) \to_Y f(x)$
	\end{enumerate}

	Отображение $f$ называется \textit{непрерывным}, если оно непрерывно во всех точках из $X$.
\end{definition}

\begin{note}
	Можно показать, что условия в определении выше эквивалентны. Доказательство при этом полностью аналогично доказательству из курса математического анализа. Эти условия можно обобщить на случай произвольных топологических пространств, однако тогда они уже не будут эквивалентными, и для определения непрерывности выбирается первое из условий, переписанное в терминах открытых окрестностей.
\end{note}

\begin{theorem}\label{thm1.4}
	Пусть $X, Y$ "--- метрические пространства, $f: X \to Y$. Тогда следующие условия эквивалентны:
	\begin{itemize}
		\item Отображение $f$ непрерывно
		\item Для любого открытого множества $G \subset Y$ множество $f^{-1}(G)$ тоже является открытым
	\end{itemize}
\end{theorem}

\begin{proof}~
	\begin{itemize}
		\item\imp{1}{2}Зафиксируем произвольное открытое множество $G \subset Y$. Тогда, поскольку выполнено равенство $f^{-1}(G) = \bigcup_{y \in G}f^{-1}(y)$ и каждое множество $f^{-1}(y)$ является открытым из определения непрерывности, множество $f^{-1}(G)$ тоже является открытым.

		\item\imp{2}{1}Зафиксируем произвольные $x \in X$ и $\epsilon > 0$. Множество $B\big(f(x), \epsilon\big)$ является открытым, поэтому его прообраз тоже открыт, то есть существует $\delta > 0$ такое, что $f\big(B(x, \delta)\big) \subset B\big(f(x), \epsilon\big)$, что и дает требуемое в силу произвольности выбора точки $x$ и числа $\epsilon$.\qedhere
	\end{itemize}
\end{proof}

\begin{note}
	Переходом к дополнению легко показать, что каждое из условий выше также эквивалентно такому: для любого замкнутого множества $F \subset Y$ множество $f^{-1}(F)$ тоже является замкнутым.
\end{note}