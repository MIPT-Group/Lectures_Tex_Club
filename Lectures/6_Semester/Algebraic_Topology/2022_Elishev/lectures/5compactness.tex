\section{Компактность в метрических пространствах}

\subsection{Компактные метрические пространства}

\begin{definition}
Пусть $X$ "--- метрическое пространство. Множество $M \subseteq X$ называется:
    \begin{itemize}
        \item \textit{Компактным в $X$}, если из каждой последовательности $\{x_n\} \subset M$ можно выбрать подпоследовательность $\{x_{n_k}\}$, сходящуюся к некоторой точке $x \in X$
        \item \textit{Компактным в себе}, если из каждой последовательности $\{x_n\} \subset M$ можно выбрать подпоследовательность $\{x_{n_k}\}$, сходящуюся к некоторой точке $x \in M$
    \end{itemize}
\end{definition}

\begin{definition}
    Метрическое пространство $X$ называется \textit{компактным}, или \textit{компактом}, если из каждой последовательности $\{x_n\} \subset X$ можно выбрать подпоследовательность $\{x_{n_k}\}$, сходящуюся к некоторой точке $x \in X$.
\end{definition}

\begin{definition}
    Пусть $X$ "--- метрическое пространство, $x \in X$. Пространство $X$ называется \textit{компактным в точке $x$}, если у точки $x$ существует окрестность $U(x)$, замыкание которой $\overline{U(x)}$ является компактом. Точка $x$ называется \textit{точкой локальной компактности} пространства $X$.
\end{definition}

\begin{definition}
    Метрическое пространство $X$ называется \textit{локально компактным}, если каждая его точка является точкой локальной компактности.
\end{definition}

\begin{note}
    Всякий компакт является также локальным компактным пространством. При этом пространства $\mathbb R$, $\mathbb R^n$ является локально компактными, но не компактными, а пространство $\mathbb R^{\infty}$ не имеет точек локальной компактности.
\end{note}

\begin{theorem}
    Пусть $X$ "--- метрическое пространство, $\Gamma$ "--- множество точек локальной компактности пространства $X$. Тогда $\Gamma$ является открытым множеством и локально компактным пространством.
\end{theorem}

\begin{proof}
    Для любой точки $x \in \Gamma$ существует окрестность $U(x) \subset X$, замыкание которой является компактом, поэтому каждая точка из $U(x)$ является точкой локальной компактности $X$, то есть $U(x) \subset \Gamma$, что и означает открытость множества $\Gamma$. Наконец, если $U_1(x)$ "--- окрестность точки $x$, такая, что $\overline{U_1(x)} \subset U(x)$, то замыкание множества $U_1(x)$ в $\Gamma$ совпадает с замыканием в $X$ и является компактом в силу замкнутости, поэтому пространство $\Gamma$ является локально компактным.
\end{proof}

\begin{theorem}[критерий компактности]
    Пусть $X$ "--- метрическое пространство, $M\subset X$. Тогда множество $M$ компактно в $X$ $\lra$ любое бесконечное подмножество множества $M$ имеет в пространстве $X$ хотя бы одну предельную точку.
\end{theorem}

\begin{proof}
    Нетривиально только доказательство $(\la)$. Пусть $\{x_n\} \subset M$. Требуется показать, что из $\{x_n\}$ можно выделить сходящуюся в $X$ подпоследовательность. Если в последовательности $\{x_n\}$ содержится стационарная подпоследовательность, то уже получено требуемое.
    
    Пусть теперь это не так, тогда положим $n_1 := 1$, и далее, по индукции, для произвольного $k \in \{2, 3, \dotsc\}$ обозначим через $n_k$ наименьшее $n$ такое, такое что $x_n \not\in \{x_{n_1}, \dotsc, x_{n_{k-1}}\}$. Тогда множество $\{x_{n_k}\}$ является бесконечным подмножеством множества $M$ и потому имеет предельную точку $x_0 \in X$, являющуюся также точкой прикосновения этого множества. Так как метрические пространства удовлетворяют первой аксиоме счетности, то, по утверждению \ref{propfrecheturysohn}, существует сходящаяся к $x_0$ последовательность точек множества $\{x_{n_k}\}$, что и требовалось.
\end{proof}

\begin{corollary}
    Метрическое пространство $X$ компактно $\lra$ каждое бесконечное подмножество множества $X$ имеет хотя бы одну предельную точку.
\end{corollary}

\subsection{Свойства компактных множеств}

\begin{definition}
    Пусть $X$ "--- метрическое пространство, $M \subset X$. \textit{Диаметром} множества $M$ называется величина $\Diam{M} := \sup \{\rho(x, y): x, y \in M\}$. Множество $M$ называется \textit{ограниченным}, если $\Diam{M} < +\infty$.
\end{definition}

\begin{note}
    Из известной из курса анализа теоремы Больцано--Вейерштрасса следует, что всякое ограниченное множество пространства $\mathbb R^n$ компактно в этом пространстве. Далее мы докажем, что верно и обратное.
\end{note}

\begin{definition}
    Пусть $X$ "--- метрическое пространство, $M \subset X$, $\epsilon > 0$. Конечное множество $\lbrace a_1,\ldots, a_s\rbrace \subset M$, называется \textit{$\epsilon$-сетью} множества $M$, если для любой точки $x \in M$ расстояние от $x$ до хотя бы одной из точек $a_1,\ldots, a_s$ меньше $\epsilon$.
\end{definition}

\begin{proposition}
    Пусть $X$ "--- метрическое пространство, $M \subset X$, $\epsilon > 0$, и множество $M$ имеет хотя бы одну $\epsilon$-сеть. Тогда множество $M$ ограниченно.
\end{proposition}

\begin{proof}
    Пусть $N_{\epsilon} := \lbrace a_1,\ldots, a_s\rbrace$ "--- некоторая $\epsilon$-сеть множества $M$. Положим $d := \max\{\rho(a_i, a_j): i, j \in \{1, \dotsc, s\}\}$. Зафиксируем произвольные точки $x, y \in M$ и выберем точки $a_i, a_j \in N_{\epsilon}$ такие, что $\rho(x,a_i) < \epsilon$ и $\rho(y, a_j) < \epsilon$. Тогда:
    \[\rho(x, y) \leq \rho(x, a_i) + \rho(a_i, a_j) + \rho(y, a_j) < d+2\epsilon\]

    Таким образом, получено требуемое.
\end{proof}

\begin{definition}
    Пусть $X$ "--- метрическое пространство, $M \subset X$. Множество $M$ называется \textit{вполне ограниченным}, если при любом $\epsilon>0$ оно имеет $\epsilon$-сеть.
\end{definition}

\begin{theorem}
    Всякое множество $M$, компактное в каком-либо метрическом пространстве $X$, вполне ограничено.
\end{theorem}

\begin{proof}
    Пусть $M$ не вполне ограниченно, тогда существует $\epsilon > 0$ такое, что $M$ не имеет никакой $\epsilon$-сети. Выберем произвольную точку $a_0 \in M$. Множество $\lbrace a_0\rbrace$ не является $\epsilon$-сетью $M$, поэтому существует точка $a_1\in M$, такая, что $\rho(a_0, a_1)\geq \epsilon$. Повторяя процесс, получим бесконечную последовательность $\{a_n\} \subset M$ такую, что расстояние между любыми двумя точками последовательности не меньше $\epsilon$. Построенная последовательность не содержит никакой сходящейся подпоследовательности --- противоречие.
\end{proof}

\begin{corollary}
    Пусть $M \subset \R^n$. Тогда $M$ компактно в $\mathbb R^n \lra M$ ограничено.
\end{corollary}

\begin{note}
    Из доказанного выше также следует, что всякое ограниченное подмножество в $\mathbb R^n$ вполне ограниченно.
\end{note}

\begin{theorem}
    Пусть $X$ "--- метрическое пространство, $M \subset X$. Тогда множество $M$ является компактом $\lra$ множество $M$ замкнуто и компактно в $X$.
\end{theorem}

\begin{proof}~
    \begin{itemize}
        \item[$\la$] Пусть $M$ замкнуто и компактно в $X$. Любое бесконечное множество $M' \subseteq M$ имеет в $X$ предельную точку $a$, причем $a\in M$ в силу замкнутости множества $M$, поэтому $M'$ имеет предельную точку в $M$. Значит, $M$ "--- компакт.
        
        \item[$\ra$] Пусть $M$ "--- компакт, тогда, очевидно, $M$ компактно в $X$. Если $M$ не замкнуто, то существует предельная точка $a \in X$ множества $M$, не принадлежащая ему. Выберем последовательность $\lbrace a_n\rbrace \subset M$, сходящуюся к $a$. Всякая подпоследовательность этой последовательности также сходится к $a$ и потому не сходится ни к какой точке из $M$. Но тогда множество $M$ не является компактом --- противоречие.\qedhere
    \end{itemize}
\end{proof}

\begin{note}
    Если $X$ "--- компакт, то любое его подмножество компактно в $X$, поэтому любое его замкнутое подмножество является компактом.
\end{note}

\begin{theorem}
    Пусть $X$ "--- компакт, состоящий из бесконечного числа точек. Тогда в $X$ существует счетное всюду плотное подмножество.
\end{theorem}

\begin{proof}
    Пусть $X$ "--- компакт, тогда множество $X$ вполне ограниченно. Для произвольного $\epsilon > 0$ обозначим через $N_\epsilon$ множество, образующее $\epsilon$-сеть в $X$. Тогда множество $N := \bigcup_{n=1}^{\infty}N_{\frac1{n}}$ является всюду плотным в $X$, поскольку для любой точки $x\in X$ выполнено равенство $\rho(x, N)=0$, и не более чем счетным. Кроме того, множество $N$ не может быть конечным, так в этом случае оно является замкнутым, откуда $X = N$.
\end{proof}

\subsection{Теоремы Кантора и Бореля--Лебега}

\begin{theorem}[Кантора]
    Пусть $X$ "--- метрическое пространство, $\Phi_1\supset \Phi_2\supset\dotsb$ "--- убывающая последовательность непустых компактов в $X$. Тогда $\bigcap_{n=1}^{\infty}\Phi_n \ne \emptyset$.
\end{theorem}

\begin{proof}
    Для каждого $n \in \N$ выберем точку $a_n \in \Phi_n$, и из последовательности $\lbrace a_n\rbrace \subset \Phi_1$ выберем подпоследовательность $\lbrace a_{n_k}\rbrace$, сходящуюся к точке $a \in \Phi_1$. Зафиксируем теперь произвольное $m \in \N$, тогда $\{a_{n_{k + m}}\} \subset \Phi_k$, откуда $a \in \Phi_m$ в силу замкнутости множества $\Phi_m$. Значит, $a \in \bigcap_{n=1}^{\infty}\Phi_n$.
\end{proof}

\begin{definition}
    Пусть $X$ "--- метрическое пространство. Система $\Sigma \subset 2^X$ называется \textit{покрытием} множества $\Phi$, если каждая точка множества $\Phi$ содержится хотя бы в одном множестве системы $\Sigma$. Покрытие $\Sigma$ называется:
    \begin{itemize}
        \item \textit{Открытым}, если все его элементы являются открытыми множествами
        \item \textit{Конечным}, если оно состоит из конечного числа элементов
    \end{itemize}
\end{definition}

\begin{proposition}
    Пусть $X$ "--- компакт. Тогда при любом $\epsilon > 0$ множество $X$ можно представить в виде объединения конечного числа замкнутых множеств, диаметр которых меньше $epsilon$.
\end{proposition}

\begin{proof}
    Рассмотрим $\frac \epsilon 3$-сеть $\lbrace a_1,\ldots, a_s\rbrace$ в $X$. Тогда $X$ содержится в объединении $\frac \epsilon 3$-окрестностей этих точек и, следовательно, в объединении их замыканий. Каждое из которых является замкнутым множеством с диаметром, не превосходящим $\frac{2\epsilon}{3}$.
\end{proof}

\begin{corollary}
    Пусть $X$ "--- метрическое пространство, $\Phi \subset X$ "--- компакт. Тогда при любом $\epsilon > 0$ множество $\Phi$ можно представить в виде объединения конечного числа замкнутых в $X$ множеств, диаметр которых меньше $\epsilon$.
\end{corollary}

\begin{theorem}[Бореля--Лебега]
    Пусть $X$ "--- метрическое пространство, $\Phi \subset X$ "--- компакт. Тогда из любого открытого покрытия $\Sigma$ множества $\Phi$ можно выделить конечное подпокрытие множества $\Phi$.
\end{theorem}

\begin{proof}
    Пусть $\Sigma$ "--- бесконечное открытое покрытие компакта $\Phi$, не имеющее конечного подпокрытия. Представим $\Phi$ в виде объединения конечного числа замкнутых множеств $\Phi_1, \ldots, \Phi_s$, диаметры которых меньше единицы. По предположению, существует $i_1 \in \{1, \dotsc, s\}$ такое, что множество $\Phi_{i_1}$ не может быть покрыто никаким конечным подпокрытием покрытия $\Sigma$. Но это множество $\Phi_{i_1}$ тоже является компактом и потому может быть представлено в виде объединения конечного числа замкнутых подмножеств $\Phi_{i_11}, \ldots, \Phi_{i_1s_1}$ диаметра меньше $\frac 12$. По предположению, существует $i_2 \in \{1, \dotsc, s_1\}$ такое, что что множество $\Phi_{i_1i_2}$ не может быть покрыто никаким конечным подпокрытием покрытия $\Sigma$. Повторая процесс, получим убывающую последовательность $\Phi\supset \Phi_{i_1}\supset\Phi_{i_1i_2}\supset \dotsb$ непустых компактов такую, что ни один из ее элементов не покрыт никаким конечным подпокрытием покрытия $\Sigma$.
    
    По теореме Кантора, $\bigcap_{n = 1}^\infty \Phi_{i_1\ldots i_n} \ne \emptyset$, причем для любого $n \in \N$ выполнено неравенство $\Diam \Phi_{i_1\ldots i_n} < \frac 1n$, поэтому это пересечение состоит из одной точки $a \in X$. Эта точка содержится в некотором $\Gamma \in \Sigma$. Так как $\Gamma$ открыто, то существует $\epsilon > 0$ такое, что $U(a,\epsilon) \subset \Gamma$. Тогда для $n \in \N$ такого, что $\frac 1n < \epsilon$, множество $\Phi_{i_1i_2\ldots i_n}$ покрывается множеством $\Gamma$, что противоречит предположению.
\end{proof}

\begin{theorem}
    Пусть $X$ "--- метрическое пространство, $M \subset X$ "--- множество такое, что из любого открытого покрытия $\Sigma$ множества $M$ можно выделить конечное подпокрытие. Тогда $M$ "--- компакт.
\end{theorem}

\begin{proof}
    Пусть это неверно, тогда в $M$ существует бесконечное подмножество $M'$, не имеющее в $M$ никакой предельной точки. Следовательно, любая точка $x \in M$ имеет окрестность $U(x, \epsilon_x)$, содержащую не более конечного числа точек множества $M'$. Окрестности $U(x, \epsilon_x)$ образуют открытое покрытие множества $M$. По условию, из него можно выделить конечное подпокрытие: $U(x_1, \epsilon_{x_1}), \ldots, U_s = U(x_s, \epsilon_{x_s})$. Тогда:
    \[M' = (M'\cap U(x_1, \epsilon_{x_1}))\cup\dotsb\cup (M'\cap U(x_s, \epsilon_{x_s}))\]
    
    Следовательно, множество $M'$ конечно --- противоречие.
\end{proof}

\begin{corollary}
    Пусть $X$ "--- метрическое пространство. Тогда множество $M \subset X$ является компактом $\lra$ из любого открытого покрытия множества $M$ можно выделить конечное подпокрытие.
\end{corollary}

\subsection{Непрерывные отображения компактов}

\begin{theorem}
	Пусть $X, Y$ "--- метрические пространства, $f : X \to Y$ "--- непрерывное отображение, и пространство $X$ компактно. Тогда пространство $f(X)$ компактно.
\end{theorem}

\begin{proof}
    Пусть $\Sigma = \lbrace \Gamma_{\alpha} \rbrace_{\alpha \in \mc A}$ "--- открытое покрытие множества $Y$. Тогда система множеств $\lbrace f^{-1}(\Gamma_{\alpha})\rbrace_{\alpha \in \mc A}$ является открытым покрытием множества $X$, из которого можно выделить конечное подпокрытие $\lbrace f^{-1}(\Gamma_{\alpha_1}), \ldots, f^{-1}(\Gamma_{\alpha_s})\rbrace$. Но тогда система множеств $\lbrace \Gamma_{\alpha_1}, \ldots, \Gamma_{\alpha_s}\rbrace$ образует конечное подпокрытие покрытия $\Sigma$, что и требовалось.
\end{proof}

\begin{corollary}
    Пусть $X$ "--- метрическое пространство, $M \subset X$ "--- множество, являющееся непрерывным образом компакта. Тогда множество $M$ замкнуто в $X$.
\end{corollary}

\begin{proof}
    По предыдущей теореме, $M$ является компактом, а компакт замкнут в объемлющем пространстве.
\end{proof}

\begin{corollary}
    Пусть $X, Y$ "--- метрические пространства, $f : X \to Y$ "--- непрерывное отображение, и пространство $X$ компактно. Тогда отображение $f$ замкнуто.
\end{corollary}

\begin{proof}
    Если множество $F \subset X$ замкнуто, то оно является компактом. Его образ также является компактом и, следовательно, замкнутым множеством.
\end{proof}

\begin{theorem}
    Пусть $X, Y$ "--- метрические пространства, $f : X \to Y$ "--- взаимно однозначное непрерывное отображение, и пространство $X$ компактно. Тогда отображение $f$ является гомеоморфизмом пространств $X$ и $f(X)$.
\end{theorem}

\begin{proof}
    Отображение $f^{-1}$ определено в силу взаимной однозначности отображения $f$ и непрерывно в силу замкнутости отображения $f$.
\end{proof}

\begin{theorem}
    Пусть $X$ "--- компакт, $f : X \to \R$ "--- непрерывная функция. Тогда функция $f$ ограниченна и принимает наименьшее и наибольшее значения в некоторых точках множества $X$.
\end{theorem}

\begin{proof}
    Множество $f(X)$ является компактом в $\R$, поэтому оно ограниченно и замкнуто, из чего и следует требуемое.
\end{proof}