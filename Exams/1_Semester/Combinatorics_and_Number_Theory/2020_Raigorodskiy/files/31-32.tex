\section*{31. Комбинаторные тождества}

$$\textbf{(1)} \; C_n^k = C_n^{n-k}$$

\textbf{Замечание:} Это свойство симметрии.

$$\textbf{(2)} \; C_n^k = C_{n-1}^{k-1} + C_{n-1}^{k}$$

\textbf{Замечание:} Доказательство непосредственно следует из выражения для $C_n^k$. Однако более интересно другое, раскрывающее его внутреннюю комбинаторную суть, доказательство.

$\blacktriangle$ Количество $k$\,-\,сочетаний элементов множества $\{a_1,\ldots,a_n\}$ равно $C_n^k$. Причем количество таких, которые содержат $a_1$, равно количеству способов выбрать $k-1$ элементов из $n-1$ оставшихся объектов, то есть $C_{n-1}^{k-1}$. С другой стороны, количество $k$\,-\,сочетаний, которые не содержат внутри себя $a_1$, равняется количеству способов выбрать $k$ также из $n-1$ объектов, то есть $C_{n-1}^{k}$. Поскольку других возможностей нет:
$C_n^k = C_{n-1}^{k-1} + C_{n-1}^{k} \quad \blacksquare$
mathbb $$\textbf{(3)} \; C_n^0 + C_n^1 + \ldots + C_n^n = 2^n$$

\textbf{Замечание:} Это сумма всех элементов фиксированной строчки треугольника Паскаля.

$\blacktriangle$ Формула есть бином Ньютона в случае $a=b=1$: 

$2^n = (1 + 1) ^ n = \sum_{k=0}^nC_n^k\,1^k\,1^{n-k} = C_n^0 + C_n^1 + \ldots + C_n^n$ \quad $\blacksquare$
mathbb $$\textbf{(4)} \; (C_n^0)^2 + (C_n^1)^2 + \ldots + (C_n^n)^2 = C_{2n}^n$$

$\blacktriangle$ Рассмотрим множество объектов $\{\overbrace{a_1, a_2, \ldots, a_n}\; ; \; \overbrace{a_{n+1}, \ldots, a_{2n}}\}$. Мы выбираем $n$\,-\,сочетаний без повторений из этого множества, при этом $k$ объектов попадает в левую часть, а $n-k$ объектов попадает в правую часть, где $0 \leq k \leq n$. Тогда получаем, что $C_{2n}^n = \sum_{k=0}^nC_n^k \,\cdot \, C_n^{n-k} = \sum_{k=0}^n(C_n^k)^2$ \quad $\blacksquare$
mathbb $$\textbf{(5)} \; C_n^1 + 2C_n^2 + \ldots + nC_n^n = n\cdot2^{n-1}$$

$\blacktriangle$ Воспользуемся \textbf{утверждением}: $kC_n^k = nC_{n-1}^{k-1}$, которое следует из определния числа сочетаний, т.е. 

$k\cdot\frac{n!}{k!(n-k)!} = n \cdot \frac{(n-1)!}{(k-1)!(n-k)!}$. 

Тогда  $0\cdot C_n^0 + 1C_n^1 + \ldots + nC_n^n = \sum_{k=0}^nk\cdot C_n^k = \sum_{k=0}^nn\cdot C_{n-1}^{k-1} = n\cdot\sum_{k=0}^nC_{n-1}^{k-1} =  n\cdot2^{n-1}$ \quad $\blacksquare$
mathbb $$\textbf{(6)} \; C_{n+m}^n = C_{n+m-1}^{n-1} + C_{n+m-2}^{n-1} + \ldots + C_{n-1}^{n-1} = \sum_{k=0}^mC_{n+m-k-1}^{n-1}$$


$\blacktriangle$ Рассмотрим все возможные $m$\,-\,сочетания объектов из множества $\{a_1,\ldots,a_{n+1}\}$ с повторениями. Количество таких $m$\,-\,сочетаний: $\overline C_{n+1}^m = C_{n+1+m-1}^{m} = C_{n+m}^{m} = C_{n+m}^{n}$. 

Все множество возможных $m$\,-\,сочетаний можно разделить на подмножества, в каждом из которых находятся только такие m-сочетания, где объект $a_1$ встречается фиксированное количество раз.


Так $m$\,-\,сочетания с повторениями, в которых нет объекта $a_1$, на самом деле есть $m$\,-\,сочетания из множества $\{a_2,\ldots,a_{n+1}\}$. Их число равно $C_{n+m-1}^m=C_{n+m-1}^{n-1}$. В свою очередь, $m$\,-\,cочетания с повторениями, в которых ровно 1 объект $a_1$, на самом деле есть $m-1$\,-\,сочетания из того же множества. Их число равно $C_{n+m-2}^{m-1}=C_{n+m-2}^{n-1}$. И так далее. \quad $\blacksquare$

\section*{32. Сумма степеней натуральных чисел. Знакопеременные тождества }

$$\textbf{(1)} \; C_n^0 - C_n^1 + C_n^2 - \ldots + (-1)^n \cdot C_n^n = \begin{cases}
1  & \:\: \text{если } n=0\\
0  & \:\: \text{если } n\geq1
\end{cases}$$
$\blacktriangle$ Тождество следует из бинома Ньютона в следующем частном случае: 

$0 = (1-1)^n = \sum_{k=0}^n C_n^k 1^k (-1)^{n-k} = C_n^0 - C_n^1 + C_n^2 - \dotsb + (-1)^n C_n^n$  $\blacksquare$

\textbf{Следствие:} $C_n^0 + C_n^2 + C_n^4 + \ldots = C_n^1 + C_n^3 + C_n^5 + \ldots$
mathbb $$\textbf{(2)} \; \sum_{k=0}^n(-1)^kC_n^k(n-k)^m = 0$$


$\blacktriangle$ Рассмотрим $A = \{a_1, a_2, \ldots, a_n\}, \; m<n$. Положим $m$\,-\,размещения с повторениями, тогда их всего $N=n^m$. Объектами, к которым мы будем применять формулу включений и исключений будут эти $N$ размещений. Размещение обладает свойством $\alpha_i$, если элемент $a_i$ не принадлежит ему. 

Очевидно, $N(\overline{\alpha_1}, \overline{\alpha_2},\ldots, \overline{\alpha_n}) = 0$ это количество объектов не обладающих ни одним из свойств. \newline Более того: $N(\alpha_i)=(n-1)^m; \quad N(\alpha_i, \alpha_j)=(n-2)^m \quad N(\alpha_1, \ldots, \alpha_n)=(n-n)^m = 0$ 


Тогда, $0 = N(\overline{\alpha_1}, \overline{\alpha_2},\ldots, \overline{\alpha_n}) = \sum_{k=0}^n(-1)^k\,C_n^k\,(n-k)^m$\quad $\blacksquare$
\subsection*{Сумма степеней натуральных чисел}


Рассмотрим 6 утверждение из комбинаторных тождеств, а именно $C_{n+m}^n = \sum_{k=0}^mC_{n+m-k-1}^{n-1}$. Подставим в это тождество $n=3$ (если в формулу подставить $n=2$, то получим арифметическую прогрессию).


$$C_{m+3}^3 = \sum_{k=0}^mC_{m-k+2}^{2} = C_{m+2}^2+C_{m+1}^2+\ldots+C_2^2$$
Заменим на эквивалентное левую и правую часть:
$$\frac{(m+1)(m+2)(m+3)}{6} = \frac{(m+1)(m+2)}{2} + \frac{(m+1)m}{2} + \ldots + \frac{2\cdot1}{2}$$
На данный момент мы получили пирамиду из апельсинов, но для получения квадратов натуральных чисел проведем дальнейшее преобразование правой части:
$$\frac{(m+1)(m+2)(m+3)}{6} = \frac{(m+1)^2}{2} + \frac{(m+1)}{2} + \frac{m^2}{2} + \frac{m}{2} + \ldots + \frac{1}{2} + \frac{1}{2}$$
Просуммируем те слагаемые, у которых числитель стоит без квадрата (т.е. каждое второе слагаемое) и получим $\frac{(m+1)(m+2)}{4}$ откуда вытекает, что 
$$1^2+2^2+\ldots+(m+1)^2 = 2\cdot\Big(\frac{(m+1)(m+2)(m+3)}{6} - \frac{(m+1)(m+2)}{4}\Big)$$
Получили желаемое. \quad $\blacksquare$