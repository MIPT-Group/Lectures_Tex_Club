\section*{28. Теорема о раскраске множества в два цвета.}

\textbf{Теорема.} Пусть $R=\{1,2,\ldots,30\} \quad M_1,M_2,\ldots,M_{15}\subset R \quad |M_i|=5$. Всегда найдется раскраска множества $R$ в два цвета так, что все $M_i$ неодноцветны.
mathbb $\blacktriangle$ Заметим, что количество всех раскрасок $2^{30}$. \newline Количество раскрасок, при которых \underline{конкретное} $M_i$ одноцветное, равно $2^{25}\cdot 2 = 2^{26}$. \newline Количество раскрасок, при которых хотя бы одно $M_i$ одноцветное, $\leq 15\cdot2^{26} < 2^4\cdot2^{26} = 2^{30}$.

Так как существует "идиотская" раскраска, когда все 30 элементов одного цвета (первого или второго), следовательно, оценку можно улучшить. Количество раскрасок, при которых хотя бы одно $M_i$ одноцветное, $< 15\cdot2^{26} < 2^4\cdot2^{26} = 2^{30}$. Так как всего раскрасок $=2^{30}$, а неподходящих по условию $<2^{30}$, следовательно, найдутся раскраски, при которых все $M_i$ неодноцветны. \quad $\blacksquare$

\section*{29. Размещения, перестановки и сочетания. Доказательство формул для чисел размещения и сочетания с повторениями и без повторений. }

Пусть $A = \{a_1, \ldots, a_n\}$. Извлекать элементы из $A$ можно по порядку или пригоршнями. Превые называются \textbf{размещениями}, вторые - \textbf{сочетаниями}.

\subsection*{Размещения с повторениями}
$\overline {A}_n^k = n^k \quad k\text{ - любое}$ \qquad {\color{ForestGreen}порядок важен}
\\ \par Извлекаем с возвращением, а именно, извлекаем один объект из множвества $A$, вовзращаем его обратно, извлекаем следующий и т.д. $k$ раз. Например, буквы для слова ЖАБА из русского алфавита.
\par $\blacktriangle$ Возьмем $n$ объектов $\{a_1,\ldots,a_n\}$. Мы хотим выбирать объект этого множества и возвращать обратно и так $k$ раз. Это действие можно представить как последовательный выбор объектов по одному из множеств $A_1 = \{a_1,\ldots,a_n\}, \quad A_2 = \{a_1,\ldots,a_n\}, \; \ldots, \; A_k = \{a_1,\ldots,a_n\}$. В силу правила умножения мы получим количество способов выбрать $k$ объектов равным $n^k$. \quad $\blacksquare$

\subsection*{Размещения без повторений}
${A}_n^k = n\cdot(n-1)\cdot\ldots\cdot(n-k+1)=\frac{n!}{(n-k)!} \quad 0\leq k < n$ \qquad {\color{ForestGreen}порядок важен}
\\ \par Извлекаем объекты последовательно без возвращения, один за другим $k$ раз.
\par $\blacktriangle$ Выберем из $\{a_1,\ldots,a_n\}$ первый объект $n$ способами, назад его не возвращаем, затем извдечем из оставшихся $n-1$ объектов второй объект $n-1$ способом и т.д. вполть до $k$\,-\,го объекта, который мы извлечем  $n-k+1$ числом способов. Применим правило умножения и получим требуемое. \quad $\blacksquare$

\subsection*{Перестановки без повторений}
${A}_n^n={P}_n=n! \quad 0\leq k < n$ \qquad {\color{ForestGreen}порядок важен}
\\ \par Частный случай предыдущего.

\subsection*{Сочетания без повторений}
${C}_n^k = \frac{{A}_n^k}{k!}=\frac{n!}{k!(n-k)!} \quad 0\leq k \leq n$ \qquad {\color{ForestGreen}порядок не важен}
\\ \par Извлекаем без возвращения, сразу все $k$ объектов, кучей без повторов (неупорядоченно) 
\par $\blacktriangle$ Возьмем $k$ объектов и наведем там порядок, следовательно $\quad {A}_n^k=k!\cdot{C}_n^k$. \quad $\blacksquare$

\subsection*{Размещения с повторениями}
$\overline {C}_n^k = {C}_{n+k-1}^{k{\color{Gray}=(n-1)}} \quad k\text{ - любое}$ \qquad {\color{ForestGreen}порядок не важен} \quad $\underbrace{\overbrace{11}^{1^{\text{ая}}}0\overbrace{1}^{2^{\text{ая}}}0\overbrace{}^{3^{\text{я}}}0\overbrace{111}^{4^{\text{ая}}}}_{k+n-1}$
\\ \par Извлекаем неупорядоченно $k$ объектов, которые могут повторятся. Например, покупка 5 фруктов в магазине, где есть бессконечное количество лимонов, яблок и груш.
\par $\blacktriangle$ Формула следует из метода шариков и перегородок. \quad $\blacksquare$

\textbf{Задача:} На ютуб-канале есть плейлист из 30 лекций по ОКТЧ. Сколькими способами их можно переставить так, чтобы \textbf{(а)} шесть лекций, прочитанных Даниилом Владимировичем, расположились в правильном порядке (не обязательно подряд)? \textbf{(б)} те же лекции по-прежнему были в правильном порядке, но никакие две из них не шли подряд?
\par \textbf{Решение:}
\begin{itemize}
    \item[\textbf{(а)}] Количество всевозможных перестановок лекций 30!. Так как лекции Мусатова обязательно должны идти в правильном порядке, мы должны из 6! возможных перестановок оставить только 1 корректную. 
    \newline Ответ: $\frac{30!}{6!}$
    \item[\textbf{(б)}] Воспользуемся методом шаров и перегородок. Пусть (1) - лекции Мусатова, а (0) - 24 остальные лекции. Тогда расставить остальные лекции можно 24! способами. А для лекций Мусатова у нас 25 мест, на каждое место одна из 6 лекций $\to \; {C}_{25}^6$ способа.
    \newline Ответ: $24! \cdot {C}_{25}^6$
\end{itemize}

\par \textbf{Задача:} Сколькими способами можно нарисовать прямоугольник на клетчатом листке бумаги размером $m\times n$ клеток?
\par \textbf{Решение:} Первую вершину можно поставить в $(n+1)\cdot(m+1)$ точку сетки. Вершину, которая расположена на диагонале относительно первой, можно поставить в $n\cdot m$ точек сетки. Так как первая вершина выбирается произвольно, то она может совпасть с 2,3 и 4. \newlineОтвет: $\frac{(n+1)\cdot(m+1)\cdot n\cdot m}{4} \sim {C}_{n+1}^2\cdot {C}_{m+1}^2$
\\ \par \textbf{Задача:} Дано множество $A=\{1,\ldots,n\}$ и числа $k, s$.\textbf{(а)} Сколько можно составить совокупностей из $s$ различных $k$\,-\,элементных подмножеств множества $A$? \textbf{(б)} Сколько из этих совокупностей устроены так, что каждое множество в них имеет непустое пересечение с подмножеством $\{1,\ldots,l\} \subset A$?
\par \textbf{Решение:}
\begin{itemize}
    \item[\textbf{(а)}] Количество способов выбрать одно $k$\,-\,элементное подмножество $A$ равно ${C}_n^k$. Значит, искомое количество совокупностей - это количество способов выбрать $s$ различных элементов из ${C}_n^k$\,-\,элементного множества. 
    \newline Ответ: ${C}_{{C}_n^k}^s$
    \item[\textbf{(б)}] Количество $k$\,-\,элементных подмножеств $A$, не пересекающихся с множеством $L=\{1,\ldots,l\}$, равно ${C}_{n-l}^k$. Поэтому количество $k$\,-\,элементных подмножеств $A$, пересекающихся с множеством $L$, равно ${C}_{n}^k-{C}_{n-l}^k$. Аналогично предыдущему пункту получаем количество совокупностей.
    \newline Ответ: ${C}_{{C}_{n}^k-{C}_{n-l}^k}^s$
\end{itemize}

\textbf{Задача:} Сколькими способами можно выбрать из полной колоды, содержащей 52 карты, 6 карт так, чтобы среди них были все 4 масти?
\par \textbf{Решение:} Выбираем 4 карты разных мастей $13^4$ способами. Осталось выбрать еще 2 карты. Возможно два случая:
\begin{itemize}
    \item эти две карты разных мастей, тогда выбор мастей ${C}_{4}^2$ способами и карт $12^2$ способами.
    \item эти две карты одной масти, тогда выбор масти 4 способами и карт ${C}_{12}^2$ способами.
\end{itemize}
Заметим, что мы разложили карты по мастям двумя способами: 1+1+2+2 и 1+1+1+3. Так как карты, совпавших мастей, можно взять на первои шаге, а можно и на втором, то нужно учесть перестановки. \newlineОтвет: $13^4\cdot(\frac{12^2\cdot \, {C}_4^2}{2\cdot 2}+\frac{4\cdot \, {C}_{12}^2}{3})$

\newpage
\section*{30. Бином Ньютона. Полиномиальный коэффициент и полиномиальная формула }

Биномиальные коэффициенты - это коффициенты в разложении $(a+b)^n$ \textbf{бинома Ньютона}:
$$(a+b)^n = \underbrace{(a+b)\cdot(a+b)\cdot\ldots\cdot(a+b)}_{n \text{ раз}}=$$
здесь $n$ скобок, после раскрытия которых получается сумма одночленов вида $a^k\, b^{n-k}$ \;\; $(k=\overline{0,n})$.
\newline Выясним, сколько раз встречается многочлен $a^k\, b^{n-k}$ при данном k. Он встретится столько раз, сколькими способами можно выбрать $k$ скобок, из которых берется $a$, т.е. ${C}_n^k$. Таким образом, после приведения подобных членов получим формулу
$$\sum_{k=0}^n{C}_n^k\,a^k\,b^{n-k}$$

\par \textbf{Полиномиальная формула} (обобщение бинома Ньютона)
\[(x_1+x_2+\ldots+x_k)^n=\sum_{\stackrel{\alpha_1\ge0,\alpha_2\ge0, \ldots\alpha_k\ge0}{\alpha_1+\alpha_2+\ldots+\alpha_k=n}}{n!\over \alpha_1!\alpha_2!\ldots\alpha_k!}x_1^{\alpha_1}x_2^{\alpha_2}\ldots x_k^{\alpha_k}.\]
$\blacktriangle$ Выведем полиномиальную формулу. Допустим у нас есть $\alpha_1$ объект первого типа \ldots \; $\alpha_k$ объект $k$-ого типа. Тогда нас интересует число способов составить "слово" \, из всех этих объектов. 
Тогда аналогично биному Ньютона получаем:
$$(x_1+x_2+\ldots+x_k)^n=\underbrace{(x_1+x_2+\ldots+x_k)\cdot\ldots\cdot(x_1+x_2+\ldots+x_k)}_{n \text{ раз}}=$$
Чтобы после раскрытия скобок получился одночлен $x_1^{\alpha_1}x_2^{\alpha_2}\ldots x_k^{\alpha_k}$, нужно выбрать те $\alpha_1$ скобок, из которых берется $x_1$, те $\alpha_2$ скобок, из которых берется $x_2$ и \ldots и те $\alpha_k$ скобок, из которых берется $\alpha_k$. Коэффициент при этом одночлене после приведения подобных членов равен числу способов, которыми можно осуществить такой выбор.
\newline Первый шаг последовательности выборов можно осуществить ${C}_n^{\alpha_1}$ способами, второй шаг — ${C}_{n-\alpha_1}^{\alpha_2}$, третий — ${C}_{n-\alpha_1-\alpha_2}^{\alpha_3}$ и т.д., $k$-й шаг — ${C}_{n-\alpha_1-\alpha_2-\ldots-\alpha_{k-1}}$ способами. Искомый полиномиальный коэффициент равен произведению:
$${C}_n^{\alpha_1}\cdot{C}_{n-\alpha_1}^{\alpha_2}\cdot{C}_{n-\alpha_1-\alpha_2}^{\alpha_3}\cdot\ldots\cdot{C}_{n-\alpha_1-\alpha_2-\ldots-\alpha_{k-1}}= {n!\over \alpha_1!(n-\alpha_1)!}\cdot{(n-\alpha_1)!\over \alpha_2!(n-\alpha_1-\alpha_2)!}\cdot\ldots\\[3mm]\cdot$$
  \[\begin{array}{l} \displaystyle \cdot{(n-\alpha_1-\alpha_2-\ldots-\alpha_{k-1})!\over \alpha_k!\underbrace{(n-\alpha_1-\alpha_2-\ldots-\alpha_k)!}_{0!}}={n!\over \alpha_1!\alpha_2!\ldots\alpha_k!} = P(\alpha_1,\alpha_2,\ldots,\alpha_k) \end{array} \qquad  \blacksquare\]

\textbf{Задача:} Сколько имеется способов раздать 11 разных цветков, трём девушкам: какой-то — 5, а остальным — по 3 цветка? 
\par \textbf{Решение (1 способ):} Тремя способами выбираем девушку, у которой будет больше всех цветов. Цветы для нее можно выбрать ${C}_{11}^5$ способами. Одной из двух девушек нужно отдать три цветка из оставшихся шести ${C}_6^3$ способами. Оставшиеся 3 цветка идут последней девушке одним способом. \newlineОтвет: $3\cdot{C}_{11}^5\cdot{C}_6^3$
\par \textbf{Решение (2 способ):} Воспользуемся полиномиальной формулой для решения это задачи. У нас есть два букета из 3 цветков и один букет из 5 цветков. Тогда остается лишь выбрать двух девушек, которым достанутся маленькие букетики. \newlineОтвет: ${C}_{3}^2\cdot \frac{11!}{(3!)^2\cdot5!}$
